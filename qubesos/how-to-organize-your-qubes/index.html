<!DOCTYPE html>
<html lang="ja-JP">
<head>
	<meta charset="utf-8">
	<title>新規ユーザー向けガイド: qubeをどのように管理するか</title>
</head>

<body>
	<link rel="stylesheet" href="/css/main.css">

	<main>
		<h1>新規ユーザー向けガイド: qubeをどのように管理するか</h1>
		<p id="update_date">更新日: 2023/04/19</p>

		<p>このページは書きかけです！</p>
		<p>このページはQubes OSの<a href="https://www.qubes-os.org/news/2022/10/28/how-to-organize-your-qubes/">公式ドキュメント</a>を翻訳したものです。訳者はただの素人なので誤訳等が含まれていると思います。あらゆる場合において英語の原文が優先です。誤訳等発見されましたら教えていただけると助かります。</p>

		<section>
			<p>人々がQubes OSについて初めて知った際の反応は、しばしば「本当に良さそう…だけど私はこれで何ができるの？」といったものになります。あなたがどのqubeを作り、それぞれのqubeで何をし、そしてあなたの管理手法がセキュリティや利便性の観点から利にかなったものであるかどうかについて、自明ではないかもしれません。</p>
			<p>それぞれのqubeは本質的にセキュアな区画であり、それを好きなだけ作成して、それらを様々な方法で接続することができます。あなたの好きなように組み上げられるという意味ではレゴブロックのようなものです。ですがあなたが何を組み上げるのか知らない場合、この制約のない自由が困難となるかもしれません。これは何かを書くために座って何も書かれていない文書に取りかかるようなものです。可能性には終わりがなく、どこから始めるべきか分からないかもしれません。</p>
			<p>単一の正しい答えは存在しないため、どのようにqubeを管理すべきかを<b>正確に</b>教えられる人は存在しないのが真実です。正しい答えはあなたの要求、希望、設定によります。ユーザー毎に最適な設定は異なります。ですが、Qubesのユーザーや開発者へのアンケートやインタビュー、そしてQubesを何年も使用して得られた個人的な経験や知見を元にいくらかの実際的な例を提供することはできます。これらの例の一部を各々の状況に合わせて適用させることができるかもしれません。さらに重要な点としては、様々な決定の背後にある理論的根拠を確認することで、管理に関するあなたの決定に同様の思考を適用する手法を学ぶことができます。それでは始めましょう！</p>
		</section>

		<h2>ソフトウェア開発者 アリス</h2>
		<section>
			<p>アリスは異なる顧客のいくつかのプロジェクトで働くフリーランスの開発者です。プロジェクトは変化する要件と、よくあることですが異なるビルド環境を持ちます。アリスは別々のqube群をそれぞれのプロジェクトに用いています。それらは次のような命名手法で管理されています。</p>
			<code>
				clientA-code<br>
				clientA-build<br>
				clientA-test<br>
				clientA-prod<br>
				projectB-code<br>
				projectB-build-test<br>
				projectB-prod<br>
				...</code>
			<p>これはqubeの群をセットで管理するのに役立ちます。qubeのうち、いくつかは<a href="https://www.qubes-os.org/doc/templates/debian/">Debianテンプレート</a>ベースで、残りは<a href="https://www.qubes-os.org/doc/templates/fedora/">Fedoraテンプレート</a>ベースです。これはいくつかのソフトウェアパッケージが片方のディストリビューションでより容易に入手できるためです。アリスのセットアップは次のようになっています:</p>
			<img width=600 src="https://www.qubes-os.org/attachment/doc/howto_use_qubes_alice_1.png">

			<ul>
				<li><b>コードを書くためのqube。</b>ここではIDEを動かし、コードをコミットし、コミットに署名をします。これらのqubeはどのツールとどの開発環境が必要かによって異なるテンプレートを元にしています。一般に、アリスは顧客やプロジェクト毎に異なるqubeを用いることを好みます。これにより、すべてを管理された状態に置き、誤ってアクセスクレデンシャルや顧客のコードを混同させてしまうといった悲惨になりうる事態が防止されます。また、これによって彼女はコードが他の顧客から常にかつセキュアに分離されていると顧客に誠実に伝えることができるようになります。アリスはqubeのネットワークアクセスをそのqubeに必要なコードレポジトリのみに限定するために、<a href="https://www.qubes-os.org/doc/firewall">Qubes firewall</a>を使用することを好みます。これによって、ローカルネットワークやインターネット上の必要なもの以外に誤ってアクセスしてしまうことが防がれます。アリスは"自由時間"（何であれ）の楽しみである個人的なプログラミングプロジェクト用にこの種類のqubeを用いています。</li>
				<li><b>ビルドとテストのためのqube。</b>繰り返しになりますが、アリスは物事を管理された状態に置くために、それぞれの顧客やプロジェクト毎に異なるqubeを用いることを好みます。ですが、これは大量のqubeが同時に実行されている場合に面倒でかつ大量のメモリを使用し得ます。なので、アリスは追加の区画化によるわずかな利点が必要でないと判断した際には、同じqubeをビルドとテストや同様の環境を要求する異なるプロジェクトで共有します。ここでは必要な依存関係を取得し、コードをコンパイルし、ビルドツールチェーンを動かし、成果物をテストします。いくつかの場合では、彼女は<a href="https://www.qubes-os.org/doc/standalones-and-hvms/">スタンドアローン</a>が<a href="https://www.qubes-os.org/doc/how-to-install-software">異なるソフトウェアのインストール</a>をテンプレートとアプリqube双方の再起動なしに行えるために有用であると気づきました。またスタンドアローンは、ルートファイルシステムの設定ファイルに必要な（もしくは利便性のために）変更を加える際にも、アプリqubeの再起動に伴いこれらの変更が失われることを心配する必要はありません。彼女は<a href="https://www.qubes-os.org/doc/bind-dirs/">bind-dirs</a>を用いてこれらの変更を永続化させることもできると知っていますが、時にその手法を常に用いることによる行き詰まりを避け、そしてこの一つのqubeのためだけにそれを用いるのは値しないと考えています。Qubes OSが彼女をこの点で判断せず、すべてをセキュアに区画化したまま好きなようにできる自由を与えていることを彼女は密かに嬉しく思っています。この様な時、qubeの<b>中</b>が散らかって管理されていない状態でも、彼女のデジタルライフはよく管理されたままになりうるということに安心を覚えます。</li>
			</ul>
			<img width=600 src="https://www.qubes-os.org/attachment/doc/howto_use_qubes_alice_2.png">
			<ul>
				<li><b>メールのためのqube。</b>アリスはコマンドラインマニアなのでターミナルベースのメールクライアントの使用を好み、仕事用と個人用の両方のメールqubeは<a href="https://github.com/Qubes-Community/Contents/blob/master/docs/configuration/mutt.md">Mutt</a>がインストールされたテンプレートをベースにしています。PGPで署名や暗号化されたメールを送受信する場所であるメールqubeは、PGPバックエンドqube（詳しくは下記）の秘密鍵にセキュアにアクセスできます。悪意ある添付ファイルから保護するために、Muttはすべての添付ファイルを<a href="https://www.qubes-os.org/doc/how-to-use-disposables">disposable qube</a>で開くよう設定されています。</li>
				<li><b>コミュニケーションツールのためのqube。</b>Signal、Slack、Zoom、Telegram、IRC、Discordなどです。ここでは顧客とテレビ会議やチャットを行います。彼女は<a href="https://www.qubes-os.org/doc/how-to-use-usb-devices">USBパススルー</a>を用いて必要に応じそれぞれのqubeにWebカメラを接続し、使用後に取り外します。同様に、マイクについても必要な際にそれぞれのqubeにアクセスを許可し、使用後にアクセスを削除します。この方法だと、あらゆるビデオ会議ツールのミュートボタンを信頼する必要がなく、会話中以外の時に盗聴されることを心配しなくて済みます。アリスはTwitter、Reddit、Hacker NewsなどのSNSのためのqubeを人々とのやりとりと最新のトレンドへの追従のために用いています（もしくは彼女が言うには、実際のところ、特定のプログラミング言語の利点やVim vs. Emacs戦争、タブ派とスペース派の聖戦などのために）。</li>
				<li><b>GPGバックエンド保管庫。</b>保管庫はネットワークから隔離され、完全にオフラインなqubeです。この特定のqubeはアリスの秘密鍵（コード署名やメール用）を保持し、<a href="https://www.qubes-os.org/doc/split-gpg/">Split GPG</a>を経由していくつかの"フロントエンド"qubeからセキュアにアクセスさせます。Split GPGはアリスがバックエンド保管庫でPGPの処理（署名や暗号化など）を要求できると明示的に承認したフロントエンドqubeのみを許可します。その時でさえ、バックエンド保管庫以外にはアリスの秘密鍵へのアクセスを有するqubeはありません。</li>
				<li><b>パスワードマネージャー保管庫。</b>これは、もう一つの完全にオフラインでネットワークから隔離されたqubeで、アリスがオフラインのパスワードマネージャーであるKeePassXCを使用し、すべてのユーザー名とパスワードを保持します。彼女は何かしらにログインする必要がある際に<a href="https://www.qubes-os.org/doc/how-to-copy-and-paste/">セキュアなコピーペースト</a>を用いて他のqubeへ素早く認証情報をコピーします。</li>
				<li><b>個人用qube。</b>Qubesについて、アリスが好きなところの一つは、相互汚染を気にすることなく仕事<b>と</b>個人的な用途の両方に使用できるということです。従って、彼女はプライベートに関連するqubeもいくつか用いています。例えば、医療文書、テストの結果、ワクチンの接種履歴などを保持するオフラインの保管庫があります。また、公的文書や出生証明書、パスポートのコピーなどを保持する別の保管庫もあります。彼女は個人的なSNSアカウントを家族や学生時代からの友人と連絡を取り合うためにさらに別のqubeで使用しています。</li>
			</ul>

			<p>仕事が完了すると、アリスは成果品を送信し、その顧客のための働きが入ったqubeを<a href="https://www.qubes-os.org/doc/how-to-back-up-restore-and-migrate/">バックアップ</a>し、そしてシステムから削除します。削除したqubeが必要になったり参照したくなった時はバックアップから簡単に復元できます。それぞれのqubeの中身は仕事を完了させた時のものと全く同じです。</p>
		</section>
	</main>

	<footer>
		<a href="/about">このWebサイトについて</a>
	</footer>
</body>
</html>
